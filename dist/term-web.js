/*!
 * term-web.js v1.0.9
 * Github: https://github.com/zhw2590582/term-web#readme
 * (c) 2017-2020 Harvey Zack
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Term=e()}(this,function(){"use strict";var s=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t};var z=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var i=t(function(e){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(t){return typeof t}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.exports=i});var c=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e},u=t(function(e){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}e.exports=i}),h=t(function(i){function n(t,e){return i.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}i.exports=n});var e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)},l=t(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return t.constructor?t.constructor.name:null}function c(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["option"];return u(t,e,i),h(t,e,i),function(o,s,a){var t=d(s),e=d(o);if("object"===t){if("object"!==e)throw new Error("[Type Error]: '".concat(a.join("."),"' require 'object' type, but got '").concat(e,"'"));Object.keys(s).forEach(function(t){var e=o[t],i=s[t],n=a.slice();n.push(t),u(e,i,n),h(e,i,n),c(e,i,n)})}if("array"===t){if("array"!==e)throw new Error("[Type Error]: '".concat(a.join("."),"' require 'array' type, but got '").concat(e,"'"));o.forEach(function(t,e){var i=o[e],n=s[e]||s[0],r=a.slice();r.push(e),u(i,n,r),h(i,n,r),c(i,n,r)})}}(t,e,i),t}function u(t,e,i){if("string"===d(e)){var n=d(t);if(!(-1<e.indexOf("|")?e.split("|").map(function(t){return t.toLowerCase().trim()}).filter(Boolean).some(function(t){return n===t}):e.toLowerCase().trim()===n))throw new Error("[Type Error]: '".concat(i.join("."),"' require '").concat(e,"' type, but got '").concat(n,"'"))}}function h(t,e,i){if("function"===d(e)){var n=e(t,d(t),i);if(!0!==n){var r=d(n);throw"string"===r?new Error(n):"error"===r?n:new Error("[Validator Error]: The scheme for '".concat(i.join("."),"' validator require return true, but got '").concat(n,"'"))}}}var o,d;t.exports=(o=Object.prototype.toString,c.kindOf=d=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e,i=n(t);if("boolean"===i)return"boolean";if("string"===i)return"string";if("number"===i)return"number";if("symbol"===i)return"symbol";if("function"===i)return"GeneratorFunction"===r(t)?"generatorfunction":"function";if(e=t,Array.isArray?Array.isArray(e):e instanceof Array)return"array";if(t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return 1}catch(t){if(-1!==t.message.indexOf("callee"))return 1}}(t))return"arguments";if(t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate)return"date";if(t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit)return"error";if(t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global)return"regexp";switch(r(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next)return"generator";switch(i=o.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return i.slice(8,-1).toLowerCase().replace(/\s/g,"")},c)}),d=function(){function t(){z(this,t)}return a(t,[{key:"on",value:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this}},{key:"once",value:function(n,r,o){var s=this;function a(){s.off(n,a);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.apply(o,e)}return a._=r,this.on(n,a,o)}},{key:"emit",value:function(t){for(var e=((this.e||(this.e={}))[t]||[]).slice(),i=arguments.length,n=new Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(var o=0;o<e.length;o+=1)e[o].fn.apply(e[o].ctx,n);return this}},{key:"off",value:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var o=0,s=n.length;o<s;o+=1)n[o].fn!==e&&n[o].fn._!==e&&r.push(n[o]);return r.length?i[t]=r:delete i[t],this}}]),t}();var f=t(function(t){var e,i;e=window,i=function(){function v(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=y.length;function x(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var w,k=!1;function E(t){if(!function(){if(!k){k=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=x(t);w=200==Math.round(v(i.width)),E.isBoxSizeOuter=w,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=x(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<b;e++){t[y[e]]=0}return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,r=0;r<b;r++){var o=y[r],s=e[o],a=parseFloat(s);i[o]=isNaN(a)?0:a}var c=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,h=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,l=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,p=n&&w,g=v(e.width);!1!==g&&(i.width=g+(p?0:c+l));var m=v(e.height);return!1!==m&&(i.height=m+(p?0:u+f)),i.innerWidth=i.width-(c+l),i.innerHeight=i.height-(u+f),i.outerWidth=i.width+h,i.outerHeight=i.height+d,i}}return E},t.exports?t.exports=i():e.getSize=i()}),p=t(function(t){var e,i;e="undefined"!=typeof window?window:o,i=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],r=0;r<i.length;r++){var o=i[r];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t},t.exports?t.exports=i():e.EvEmitter=i()}),g=t(function(t){var e,i;e=window,i=function(r,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n="mousedown";r.PointerEvent?n="pointerdown":"ontouchstart"in r&&(n="touchstart"),t[i](n,this)},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var e=n[t.type];e.forEach(function(t){r.addEventListener(t,this)},this),this._boundPointerEvents=e}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){r.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e},t.exports?t.exports=i(e,p):e.Unipointer=i(e,e.EvEmitter)}),m=t(function(t){var e,i;e=window,i=function(o,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var r=this.handles[n];this._bindStartEvent(r,t),r[e]("click",this),o.PointerEvent&&(r.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var r={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=r[t.target.nodeName],i=s[t.target.type],n=!e||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e},t.exports?t.exports=i(e,g):e.Unidragger=i(e,e.Unipointer)}),v=t(function(t){var e,i;e=window,i=function(o,c,t){function i(t,e){for(var i in e)t[i]=e[i];return t}var n=o.jQuery;function e(t,e){this.element="string"==typeof t?document.querySelector(t):t,n&&(this.$element=n(this.element)),this.options=i({},this.constructor.defaults),this.option(e),this._create()}var r=e.prototype=Object.create(t.prototype);e.defaults={},r.option=function(t){i(this.options,t)};var s={relative:!0,absolute:!0,fixed:!0};function u(t,e,i){return i=i||"round",e?Math[i](t/e)*e:t}return r._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=i({},this.position);var t=getComputedStyle(this.element);s[t.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},r.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},r.dispatchEvent=function(t,e,i){var n=[e].concat(i);this.emitEvent(t,n),this.dispatchJQueryEvent(t,e,i)},r.dispatchJQueryEvent=function(t,e,i){var n=o.jQuery;if(n&&this.$element){var r=n.Event(e);r.type=t,this.$element.trigger(r,i)}},r._getPosition=function(){var t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,"width"),i=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(i)?0:i,this._addTransformPosition(t)},r._getPositionCoord=function(t,e){if(-1==t.indexOf("%"))return parseInt(t,10);var i=c(this.element.parentNode);return i?parseFloat(t)/100*i[e]:0},r._addTransformPosition=function(t){var e=t.transform;if(0===e.indexOf("matrix")){var i=e.split(","),n=0===e.indexOf("matrix3d")?12:4,r=parseInt(i[n],10),o=parseInt(i[1+n],10);this.position.x+=r,this.position.y+=o}},r.onPointerDown=function(t,e){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",t,[e])},r.dragStart=function(t,e){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",t,[e]),this.animate())},r.measureContainment=function(){var t=this.getContainer();if(t){var e=c(this.element),i=c(t),n=this.element.getBoundingClientRect(),r=t.getBoundingClientRect(),o=i.borderLeftWidth+i.borderRightWidth,s=i.borderTopWidth+i.borderBottomWidth,a=this.relativeStartPosition={x:n.left-(r.left+i.borderLeftWidth),y:n.top-(r.top+i.borderTopWidth)};this.containSize={width:i.width-o-a.x-e.width,height:i.height-s-a.y-e.height}}},r.getContainer=function(){var t=this.options.containment;if(t)return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):this.element.parentNode},r.onPointerMove=function(t,e,i){this.dispatchJQueryEvent("pointerMove",t,[e,i])},r.dragMove=function(t,e,i){if(this.isEnabled){var n=i.x,r=i.y,o=this.options.grid,s=o&&o[0],a=o&&o[1];n=u(n,s),r=u(r,a),n=this.containDrag("x",n,s),r=this.containDrag("y",r,a),n="y"==this.options.axis?0:n,r="x"==this.options.axis?0:r,this.position.x=this.startPosition.x+n,this.position.y=this.startPosition.y+r,this.dragPoint.x=n,this.dragPoint.y=r,this.dispatchEvent("dragMove",t,[e,i])}},r.containDrag=function(t,e,i){if(!this.options.containment)return e;var n="x"==t?"width":"height",r=u(-this.relativeStartPosition[t],i,"ceil"),o=this.containSize[n];return o=u(o,i,"floor"),Math.max(r,Math.min(o,e))},r.onPointerUp=function(t,e){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",t,[e])},r.dragEnd=function(t,e){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",t,[e]))},r.animate=function(){if(this.isDragging){this.positionDrag();var t=this;requestAnimationFrame(function(){t.animate()})}},r.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},r.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},r.staticClick=function(t,e){this.dispatchEvent("staticClick",t,[e])},r.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.setLeftTop()},r.enable=function(){this.isEnabled=!0},r.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},r.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},r._init=function(){},n&&n.bridget&&n.bridget("draggabilly",e),e},t.exports?t.exports=i(e,f,m):e.Draggabilly=i(e,e.getSize,e.Unidragger)});function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function U(t,e){var i=t.options,n=i.dragOpt,r=i.draggable,o=t.template.$container;r&&(e.draggie=new v(o,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({handle:".term-header"},n)),t.on("destroy",function(){e.draggie.destroy()}))}var b=function(){function I(t){var e,i,n,r,o,s,a,c,u,h,d,l,f,p,g,m,v,y,b,x,w,k,E,S,O,C,P,L,T,R,j,F,A,D,M,W,_;z(this,I),this.destroyEvents=[],this.proxy=this.proxy.bind(this),i=this,n=(e=t).template.$textarea,i.proxy(document,["click","contextmenu","dblclick"],function(t){t.composedPath&&-1<t.composedPath().indexOf(e.template.$content)?(e.isFocus=!0,n.focus(),e.emit("focus"),e.emit(t.type,t)):(e.isFocus=!1,e.emit("blur"))}),o=this,s=(r=t).template,a=s.$container,c=s.$content,u=s.$resize,h=s.$canvas,d=s.$header,l=s.$footer,f=r.options.pixelRatio,p=!1,y=v=m=g=0,o.proxy(u,"mousedown",function(t){p=!0;var e=a.clientWidth,i=a.clientHeight;v=e,y=i,g=t.pageX,m=t.pageY}),o.proxy(document,"mousemove",function(t){if(p){c.style.visibility="hidden";var e=v+t.pageX-g,i=y+t.pageY-m;300<=e&&300<=i&&(a.style.width="".concat(e,"px"),a.style.height="".concat(i,"px"))}}),o.proxy(document,"mouseup",function(){if(p){p=!1,y=v=m=g=0,c.style.visibility="visible";var t=a.clientWidth,e=a.clientHeight;r.emit("resize",{width:t,height:e})}}),r.on("resize",function(t){var e=t.width,i=t.height;a.style.width="".concat(e,"px"),a.style.height="".concat(i,"px"),h.width=e*f,h.height=i*f,r.drawer.init()}),r.on("size",function(t){var e=t.header,i=t.content,n=t.footer;d.style.height="".concat(e,"px"),l.style.height="".concat(n,"px"),c.style.top="".concat(e,"px"),c.style.height="".concat(i,"px")}),U(t,this),x=this,w=(b=t).template.$textarea,x.proxy(w,"input",function(){b.emit("input",w.value.trim())}),x.proxy(w,"paste",function(){b.emit("input",w.value.trim())}),x.proxy(w,"keydown",function(t){var e=t.keyCode;13===e&&setTimeout(function(){b.emit("enter",w.value.trim()),w.value=""}),[37,38,39,40].includes(e)&&(w.blur(),setTimeout(function(){return w.focus()})),b.emit("keydown",t)}),b.on("cursor",function(t){var e=t.left,i=t.top;w.style.top="".concat(i,"px"),w.style.left="".concat(e,"px")}),E=this,S=(k=t).options,O=S.recordType,C=S.recorder,P=k.template,L=P.$recorderBtn,T=P.$recorder,R=P.$recorderSize,j=P.$recorderDuration,E.proxy(L,"click",function(){k[O].recording?k[O].end():k[O].start()}),k.on("start",function(){C&&T.classList.add("recording")}),k.on("recording",function(t){var e=t.size,i=t.duration;C&&(R.innerText="".concat(Math.ceil(e/1024/1024)||0,"mb"),j.innerText="".concat(i||0,"s"))}),k.on("creating",function(){C&&(R.innerText="",j.innerText="".concat(O," is creating..."))}),k.on("end",function(){C&&T.classList.remove("recording")}),A=this,D=(F=t).template,M=D.$content,W=D.$scrollbar,_=!1,A.proxy(M,"scroll",function(){_?F.drawer.renderByTop(M.scrollTop):_=!0}),F.on("scrollTop",function(t){_?_=!1:M.scrollTop=t}),F.on("scrollHeight",function(t){W.style.height="".concat(t,"px")}),function(d){var l=d.template.$content,t=d.options,f=t.pixelRatio,p=t.backgroundColor,g=document.createElement("textarea");g.style.position="fixed",g.style.left="-999px",g.style.top="-999px",document.body.appendChild(g);var m=[],v=0;d.on("click",function(){if(d.drawer.render(!1),v&&m.length&&Date.now()-v<=300){var t=d.drawer,e=t.fontSize,i=t.ctx,n=t.contentWidth,r=t.contentPadding,o=m.reduce(function(t,e){return t+e.text},"");i.fillStyle="#fff",i.fillRect(r[3],m[0].top,n,e),i.fillStyle=p,i.fillText(o,r[3],m[0].top),g.value=o,g.focus(),g.select()}else m=[],v=0,g.value=""}),d.on("dblclick",function(t){d.drawer.render(!1);var e=l.getBoundingClientRect(),i=(t.pageX-e.left)*f,n=(t.pageY-e.top)*f,r=d.drawer,o=r.renderLogs,s=r.logGap,a=r.fontSize,c=r.ctx,u=o[Math.floor(n/(s+a))]||[],h=u.find(function(t){return i>t.left&&t.left+t.width>=i});m=[],v=0,g.value="",h&&(m=u,v=Date.now(),c.fillStyle="#fff",c.fillRect(h.left,h.top,h.width,a),c.fillStyle=p,c.fillText(h.text,h.left,h.top),g.value=h.text,g.focus(),g.select())}),d.on("blur",function(){d.drawer.render(!1),m=[],v=0,g.value=""}),d.on("destroy",function(){return document.body.removeChild(g)})}(t)}return a(I,[{key:"proxy",value:function(e,t,i,n){var r=this,o=3<arguments.length&&void 0!==n?n:{};Array.isArray(t)?t.forEach(function(t){return r.proxy(e,t,i,o)}):(e.addEventListener(t,i,o),this.destroyEvents.push(function(){e.removeEventListener(t,i,o)}))}},{key:"destroy",value:function(){this.destroyEvents.forEach(function(t){return t()})}}]),I}();var x=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")};var w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}},k=t(function(n){function r(t,e,i){return w()?n.exports=r=Reflect.construct:n.exports=r=function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&h(r,i.prototype),r},r.apply(null,arguments)}n.exports=r});function E(n){return function(){var t,e=u(n);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)}}var S=function(t){e(n,t);var i=E(n);function n(t){var e;return z(this,n),(e=i.call(this,t)).name="TermError",e}return n}(t(function(e){function n(t){var i="function"==typeof Map?new Map:void 0;return e.exports=n=function(t){if(null===t||!x(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return k(t,arguments,u(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),h(e,t)},n(t)}e.exports=n})(Error));function O(t,e){if(!t)throw new S(e);return t}function C(t,e){var i=document.createElement("a");i.style.display="none",i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}function L(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}function T(t){return t.replace(/[&<>'"]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[t]||t})}var P=Object.freeze({__proto__:null,TermError:S,errorHandle:O,clamp:function(t,e,i){return Math.max(Math.min(t,Math.max(e,i)),Math.min(e,i))},download:C,uuid:L,escape:T,unescape:function(t){return t.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,function(t){return{"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'}[t]||t})}}),R=function(){function f(t){var e=this;z(this,f);var i=(this.term=t).options,n=i.container,r=i.fontFamily,o=i.fontSize,s=i.fontColor,a=i.pixelRatio,c=i.width,u=i.height,h=i.borderRadius,d=i.boxShadow,l=i.recorder;this.$container=n,"string"==typeof t.options.container&&(this.$container=document.querySelector(t.options.container)),O(t.constructor.instances.every(function(t){return t.template.$container!==e.$container}),"Cannot mount multiple instances on the same dom element, please destroy the previous instance first."),this.$container.classList.add("term-container"),this.$container.style.width="".concat(c,"px"),this.$container.style.height="".concat(u,"px"),this.$canvas=document.createElement("canvas"),this.$canvas.classList.add("term-canvas"),this.$canvas.width=c*a,this.$canvas.height=u*a,this.$container.appendChild(this.$canvas),this.$textarea=document.createElement("textarea"),this.$textarea.classList.add("term-textarea"),this.$container.appendChild(this.$textarea),this.$header=document.createElement("div"),this.$header.classList.add("term-header"),this.$container.appendChild(this.$header),this.$content=document.createElement("div"),this.$content.classList.add("term-content"),this.$container.appendChild(this.$content),this.$scrollbar=document.createElement("div"),this.$scrollbar.classList.add("term-scrollbar"),this.$scrollbar.style.height="0",this.$content.appendChild(this.$scrollbar),this.$footer=document.createElement("div"),this.$footer.classList.add("term-footer"),this.$container.appendChild(this.$footer),this.$resize=document.createElement("div"),this.$resize.classList.add("term-resize"),this.$footer.appendChild(this.$resize),l&&(this.$recorder=document.createElement("div"),this.$recorder.classList.add("term-recorder"),this.$recorder.innerHTML='<div class="term-recorder-size"></div><div class="term-recorder-duration"></div><div class="term-recorder-btn"></div> \n            ',this.$recorderSize=this.$recorder.querySelector(".term-recorder-size"),this.$recorderDuration=this.$recorder.querySelector(".term-recorder-duration"),this.$recorderBtn=this.$recorder.querySelector(".term-recorder-btn"),this.$header.appendChild(this.$recorder)),document.getElementById("term-ui-style")||(this.$style=document.createElement("style"),this.$style.id="term-ui-style",this.$style.textContent=[".term-container{font-family:".concat(r,";font-size:").concat(o,"px;color:").concat(s,";position:relative;user-select:none;}"),".term-container ::-webkit-scrollbar{width:5px;}",".term-container ::-webkit-scrollbar-thumb{background-color:#666;border-radius:5px;}",".term-container ::-webkit-scrollbar-thumb:hover{background-color:#ccc;}",".term-canvas{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;border-radius:".concat(h,"px;box-shadow:").concat(d,";}"),".term-textarea{position:absolute;width:20px;height:20px;opacity:0;pointer-events:none;resize:none;}",".term-content{position:absolute;width:100%;right:0;left:0; overflow: auto;}",".term-content:hover{cursor:text}",".term-recorder{display:flex;align-items:center;position:absolute;right:10px;top:10px;}",".term-recorder-size, .term-recorder-duration{display:none;margin-right:10px;}",".term-recorder-btn{height:18px;width:18px;background:#F44336;border-radius:3px;cursor:pointer;}",".term-recorder.recording .term-recorder-btn{background:#FFC107;}",".term-recorder.recording .term-recorder-size{display:block;}",".term-recorder.recording .term-recorder-duration{display:block;}",".term-header{position:absolute;width:100%;top:0;left:0;right:0;}",".term-footer{position:absolute;width:100%;bottom:0;left:0;right:0;}",".term-resize{position: absolute;right: 0;bottom: 0;width: 20px;height: 20px;cursor: nwse-resize;}",".is-dragging.term-container{opacity:.95};"].join(""),document.head.appendChild(this.$style))}return a(f,[{key:"destroy",value:function(){this.$container.innerHTML="",this.term.constructor.instances.length||document.head.removeChild(this.$style)}}]),f}();var j=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n};var F=function(t){if(Array.isArray(t))return j(t)};var A=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var D=function(t,e){if(t){if("string"==typeof t)return j(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?j(t,e):void 0}};var M=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var W=function(t){return F(t)||A(t)||D(t)||M()},_="input",I="output",$="radio",H="checkbox",B={videoBitsPerSecond:5e6,mimeType:"video/webm"};function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function N(t,e){var s={bools:{},strings:{},unknownFn:null};"function"==typeof(e=e||{}).unknown&&(s.unknownFn=e.unknown),"boolean"==typeof e.boolean&&e.boolean?s.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(t){s.bools[t]=!0});var a={};Object.keys(e.alias||{}).forEach(function(t){a[t]=[].concat(e.alias[t]),a[t].forEach(function(e){a[e]=[t].concat(a[t].filter(function(t){return e!==t}))})}),[].concat(e.string).filter(Boolean).forEach(function(t){s.strings[t]=!0,a[t]&&(s.strings[a[t]]=!0)});var r=e.default||{},c={_:[]};Object.keys(s.bools).forEach(function(t){n(t,void 0!==r[t]&&r[t])});var i=[];function n(t,e,i){if(!i||!s.unknownFn||(n=t,r=i,s.allBools&&/^--[^=]+$/.test(r)||s.strings[n]||s.bools[n]||a[n])||!1!==s.unknownFn(i)){var n,r,o=!s.strings[t]&&K(e)?Number(e):e;u(c,t.split("."),o),(a[t]||[]).forEach(function(t){u(c,t.split("."),o)})}}function u(t,e,i){for(var n=t,r=0;r<e.length-1;r++){if("__proto__"===(o=e[r]))return;void 0===n[o]&&(n[o]={}),n[o]!==Object.prototype&&n[o]!==Number.prototype&&n[o]!==String.prototype||(n[o]={}),n[o]===Array.prototype&&(n[o]=[]),n=n[o]}var o;"__proto__"!==(o=e[e.length-1])&&(n!==Object.prototype&&n!==Number.prototype&&n!==String.prototype||(n={}),n===Array.prototype&&(n=[]),void 0===n[o]||s.bools[o]||"boolean"==typeof n[o]?n[o]=i:Array.isArray(n[o])?n[o].push(i):n[o]=[n[o],i])}function o(t){return a[t].some(function(t){return s.bools[t]})}-1!==t.indexOf("--")&&(i=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var h=0;h<t.length;h++){var d=t[h];if(/^--.+=/.test(d)){var l=d.match(/^--([^=]+)=([\s\S]*)$/),f=l[1],p=l[2];s.bools[f]&&(p="false"!==p),n(f,p,d)}else if(/^--no-.+/.test(d)){n(f=d.match(/^--no-(.+)/)[1],!1,d)}else if(/^--.+/.test(d)){f=d.match(/^--(.+)/)[1];void 0===(y=t[h+1])||/^-/.test(y)||s.bools[f]||s.allBools||a[f]&&o(f)?/^(true|false)$/.test(y)?(n(f,"true"===y,d),h++):n(f,!s.strings[f]||"",d):(n(f,y,d),h++)}else if(/^-[^-]+/.test(d)){for(var g=d.slice(1,-1).split(""),m=!1,v=0;v<g.length;v++){var y;if("-"!==(y=d.slice(v+2))){if(/[A-Za-z]/.test(g[v])&&/=/.test(y)){n(g[v],y.split("=")[1],d),m=!0;break}if(/[A-Za-z]/.test(g[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){n(g[v],y,d),m=!0;break}if(g[v+1]&&g[v+1].match(/\W/)){n(g[v],d.slice(v+2),d),m=!0;break}n(g[v],!s.strings[g[v]]||"",d)}else n(g[v],y,d)}f=d.slice(-1)[0];m||"-"===f||(!t[h+1]||/^(-|--)[^-]/.test(t[h+1])||s.bools[f]||a[f]&&o(f)?t[h+1]&&/^(true|false)$/.test(t[h+1])?(n(f,"true"===t[h+1],d),h++):n(f,!s.strings[f]||"",d):(n(f,t[h+1],d),h++))}else if(s.unknownFn&&!1===s.unknownFn(d)||c._.push(s.strings._||!K(d)?d:Number(d)),e.stopEarly){c._.push.apply(c._,t.slice(h+1));break}}return Object.keys(r).forEach(function(e){var t,i,n;t=c,i=e.split("."),n=t,i.slice(0,-1).forEach(function(t){n=n[t]||{}}),i[i.length-1]in n||(u(c,e.split("."),r[e]),(a[e]||[]).forEach(function(t){u(c,t.split("."),r[e])}))}),e["--"]?(c["--"]=new Array,i.forEach(function(t){c["--"].push(t)})):i.forEach(function(t){c._.push(t)}),c}var G=function(){function o(t){z(this,o);var e=(this.term=t).options,i=e.pixelRatio,n=e.fontSize,r=e.backgroundColor;this.scrollHeight=0,this.scrollTop=0,this.cursorColor=["#FFF",r],this.cursorSize=5*i,this.logGap=10*i,this.fontSize=n*i,this.btnColor=["#FF5F56","#FFBD2E","#27C93F"],this.btnSize=6*i,this.contentPadding=[45,15,15,15].map(function(t){return t*i}),this.$tmp=document.createElement("div"),this.cacheEmits=[],this.cacheLogs=[],this.renderLogs=[],this.emit=this.emit.bind(this),this.clear=this.clear.bind(this),this.init(),this.cursor=!1,function t(){var e=this;this.cursorTimer=setTimeout(function(){e.cursor=!e.cursor,e.renderCursor(),t.call(e)},500)}.call(this)}return a(o,[{key:"init",value:function(){var t=this.term,e=t.template.$canvas,i=t.options,n=i.pixelRatio,r=i.fontFamily;this.canvasHeight=e.height,this.canvasWidth=e.width,this.contentHeight=this.canvasHeight-this.contentPadding[0]-this.contentPadding[2],this.contentWidth=this.canvasWidth-this.contentPadding[3]-this.contentPadding[1]/2,this.maxLength=Math.floor(this.contentHeight/(this.fontSize+this.logGap)),this.ctx=e.getContext("2d"),this.ctx.font="".concat(this.fontSize,"px ").concat(r),this.ctx.textBaseline="top",this.term.emit("size",{header:this.contentPadding[0]/n,content:this.contentHeight/n,footer:this.contentPadding[2]/n}),this.render()}},{key:"render",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;return this.renderBackground(),this.renderTopbar(),this.renderContent(e),this}},{key:"renderBackground",value:function(){var t=this.term.options.backgroundColor;this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"renderTopbar",value:function(){var i=this,t=this.term.options,e=t.title,n=t.fontColor;this.ctx.fillStyle=n;var r=this.ctx.measureText(e).width;this.ctx.fillText(e,this.canvasWidth/2-r/2,this.contentPadding[1]-this.btnSize/2),this.btnColor.forEach(function(t,e){i.ctx.beginPath(),i.ctx.arc(i.contentPadding[3]+i.btnSize+e*i.btnSize*3.6,i.contentPadding[1]+i.btnSize,i.btnSize,0,360,!1),i.ctx.fillStyle=t,i.ctx.fill(),i.ctx.closePath()})}},{key:"renderContent",value:function(t){var e=this.term.options,i=e.pixelRatio,n=e.fontColor;if(this.renderLogs.length)for(var r=0;r<this.renderLogs.length;r+=1){var o=this.renderLogs[r];if(o&&o.length)for(var s=0;s<o.length;s+=1){var a=o[s],c=this.contentPadding[0]+(this.fontSize+this.logGap)*r;a.top=c,a.background&&(this.ctx.fillStyle=a.background,this.ctx.fillRect(a.left,c,a.width,this.fontSize)),this.ctx.fillStyle=a.color||n,this.ctx.fillText(a.text,a.left,c)}}if(this.renderEditable){var u=this.cursorPos,h=u.left,d=u.top;this.term.emit("cursor",{left:h/i,top:d/i})}this.scrollHeight=this.cacheLogs.length*(this.fontSize+this.logGap)/i,this.term.emit("scrollHeight",this.scrollHeight),t&&this.autoScroll()}},{key:"autoScroll",value:function(){var t=this.term.options.pixelRatio,e=this.renderLogs[this.renderLogs.length-1],i=this.cacheLogs.indexOf(e);this.scrollTop=((i+1)*(this.fontSize+this.logGap)-this.contentHeight)/t,this.term.emit("scrollTop",this.scrollTop)}},{key:"renderByIndex",value:function(t){this.renderLogs=this.cacheLogs.slice(t,t+this.maxLength),this.render(!1)}},{key:"renderByTop",value:function(t){var e=this.term.options.pixelRatio,i=Math.ceil(t*e/(this.fontSize+this.logGap));this.renderByIndex(i)}},{key:"renderCursor",value:function(){var t=this.cursorPos,e=t.left,i=t.top;this.renderEditable&&e&&i&&(this.ctx.fillStyle=this.cursor?this.cursorColor[0]:this.cursorColor[1],this.ctx.fillRect(e,i,this.cursorSize,this.fontSize))}},{key:"emit",value:function(t){var e;if(l(t,{type:function(t){return!![_,I].includes(t)||'The type must be "'.concat(_,'" or "').concat(I,'"')},text:"string",prefix:"undefined|string",replace:"undefined|boolean"}),t.replace){this.cacheEmits.pop();var i=this.cacheLogs[this.cacheLogs.length-1];i&&i.group&&(this.cacheLogs=this.cacheLogs.filter(function(t){return t.group!==i.group}))}this.cacheEmits.push(q({},t));var n=this.parse(t);(e=this.cacheLogs).push.apply(e,W(n)),this.renderLogs=this.cacheLogs.slice(-this.maxLength),this.render()}},{key:"parse",value:function(t){var e=this.term.options.prefix;t.type===_&&(t.text=(t.prefix||e)+T(t.text));for(var i=L(),n=[],r=t.text.split(/\r?\n/),o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=0,a=this.contentPadding[3],c=0;c<r.length;c+=1){var u=r[c];this.$tmp.innerHTML=u.replace(o,"");for(var h=0;h<this.$tmp.childNodes.length;h+=1){var d=this.$tmp.childNodes[h],l=d.textContent,f=this.ctx.measureText(l).width,p=d.getAttribute?d.getAttribute("color"):"",g=d.getAttribute?d.getAttribute("background"):"",m=a+f;if(m>this.contentWidth){for(var v="",y=!1,b=a,x=W(l),w=0;w<x.length;w+=1){var k=x[w],E=this.ctx.measureText(k).width,S=a+E;if(S<=this.contentWidth)v+=k,a=S;else{var O=q({},t,{width:this.ctx.measureText(v).width,left:y?this.contentPadding[3]:b,text:v,color:p,background:g});n[s]?n[s].push(O):(n[s]=[O],n[s].group=i),s+=1,v=k,y=!0,a=this.contentPadding[3]+E}}var C=q({},t,{width:this.ctx.measureText(v).width,left:this.contentPadding[3],text:v,color:p,background:g});n[s]?n[s].push(C):(n[s]=[C],n[s].group=i)}else{var P=q({},t,{width:f,text:l,left:a,color:p,background:g});n[s]?n[s].push(P):(n[s]=[P],n[s].group=i),a=m}}s+=1,a=this.contentPadding[3]}return n.filter(Boolean)}},{key:"clear",value:function(){this.cacheLogs=[],this.renderLogs=[],this.render()}},{key:"lastCacheLog",get:function(){var t=this.cacheLogs[this.cacheLogs.length-1];return t&&t[t.length-1]}},{key:"lastRenderLog",get:function(){var t=this.renderLogs[this.renderLogs.length-1];return t&&t[t.length-1]}},{key:"cacheEditable",get:function(){return this.term.isFocus&&this.lastCacheLog&&this.lastCacheLog.type===_}},{key:"renderEditable",get:function(){return this.cacheEditable&&this.lastCacheLog===this.lastRenderLog}},{key:"cursorPos",get:function(){if(this.renderEditable){var t=this.term.options.pixelRatio;return{left:this.lastRenderLog.left+this.lastRenderLog.width+4*t,top:this.contentPadding[0]+(this.fontSize+this.logGap)*(this.renderLogs.length-1)}}return{left:0,top:0}}}]),o}();function K(t){return"number"==typeof t||(/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}var Q=function(){function r(t){var e=this;z(this,r);var i=(this.term=t).drawer,n=t.options.welcome;this.isTyping=!1,this.askResolve=null,this.type=this.type.bind(this),this.input=this.input.bind(this),this.output=this.output.bind(this),this.ask=function(t){return O(!e.isQuestion,"The last problem has not been solved"),e.question(t)},this.output(n).input(""),t.on("input",function(t){i.cacheEditable&&(e.isQuestion?e.question(i.lastCacheLog.prefix,t):e.input(t,!0))}),t.on("enter",function(t){i.cacheEditable&&t.trim()&&(e.isQuestion?(e.askResolve(t),e.askResolve=null):e.execute(t))})}return a(r,[{key:"execute",value:function(t){var n=this;if(!t.trim())return this.input("");var e=this.term.options,i=e.parseOpt,r=e.notFound,o=e.loading,s=this.findAction(t),a=N(t.split(" "),i);if(!s){var c=r.call(this.term,t,a);return this.output(c).input("")}if("function"!=typeof s.output)return this.output(s.output).input("");try{var u=s.output.call(this.term,t,a);if("promise"!==l.kindOf(u))return void 0!==u?this.output(u).input(""):this;var h=o.call(this.term,t,a);return this.output(h),u.then(function(t){return void 0!==t?n.output(t,!0).input(""):n}).catch(function(t){var e="error"===l.kindOf(t)?"".concat(String(t)):"Error: ".concat(String(t)),i='<d color="red">'.concat(e,"</d>");return n.output(i,!0).input("")})}catch(t){var d='<d color="red">'.concat(String(t),"</d>");return this.output(d).input("")}}},{key:"findAction",value:function(i){return i=i.trim().toLowerCase(),this.term.options.actions.find(function(t){var e=l.kindOf(t.input);return"string"===e?i===t.input:"regexp"===e?t.input.test(i):null})}},{key:"output",value:function(t,e){var i=1<arguments.length&&void 0!==e&&e;return this.term.drawer.emit({type:I,replace:i,text:String(t)}),this}},{key:"input",value:function(t,e){var i=1<arguments.length&&void 0!==e&&e;return this.term.drawer.emit({type:_,replace:i,text:String(t)}),this}},{key:"question",value:function(e,t){var i=this,n=1<arguments.length&&void 0!==t?t:"";return this.isQuestion?this.term.drawer.emit({type:_,replace:!0,prefix:e,text:n}):new Promise(function(t){i.askResolve=t,i.term.drawer.emit({type:_,replace:!1,prefix:e,text:n})})}},{key:"type",value:function(t,e){var i=this,s=!(1<arguments.length&&void 0!==e)||e;if(this.isTyping)return Promise.reject();var a=this.term.template.$textarea;return new Promise(function(n){var r=W(t),o="";(function t(){var e=this;if(r.length){this.isTyping=!0;var i=r.shift();o+=i,this.input(o,!0),setTimeout(function(){t.call(e)},100)}else this.isTyping=!1,a.value=o,s&&(this.execute(o),a.value=""),n(o)}).call(i)})}},{key:"isQuestion",get:function(){var t=this.term.drawer,e=t.lastCacheLog;return t.cacheEditable&&e.prefix&&"function"==typeof this.askResolve}}]),r}(),X=function(){function e(t){z(this,e),this.term=t,this.blobs=[]}return a(e,[{key:"start",value:function(){var e=this;O(!this.recording,"The recorder is recording...");var t=this.term.template.$canvas;this.stream=t.captureStream(30),O(this.stream,"Cannot get MediaStream of canvas"),O(MediaRecorder&&MediaRecorder.isTypeSupported(B.mimeType),"Does not support recording webm video"),this.recorder=new MediaRecorder(this.stream,B),this.recorder.ondataavailable=function(t){e.recording&&t.data&&0<t.data.size&&(e.blobs.push(t.data),e.term.emit("recording",{size:e.size,duration:e.duration}))},this.recorder.onstart=function(){e.term.emit("start")},this.recorder.onstop=function(){var t=URL.createObjectURL(new Blob(e.blobs));C(t,"".concat(Date.now(),".webm")),URL.revokeObjectURL(t),e.blobs=[],e.term.emit("end")},this.recorder.start(1e3)}},{key:"end",value:function(){this.term.emit("creating"),this.recorder.stop()}},{key:"recording",get:function(){return this.recorder&&"recording"===this.recorder.state}},{key:"size",get:function(){return this.blobs.reduce(function(t,e){return t+e.size},0)}},{key:"duration",get:function(){return this.blobs.length}}]),e}(),Y=t(function(k,t){!function(t,U,e,$){function i(){}var n,r,H={URL:t.URL||t.webkitURL||t.mozURL||t.msURL,getUserMedia:(r=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia)?r.bind(e):r,requestAnimFrame:t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,requestTimeout:function(i,n){if(i=i||H.noop,n=n||0,!H.requestAnimFrame)return setTimeout(i,n);var r=(new Date).getTime(),o=new Object,s=H.requestAnimFrame;return o.value=s(function t(){var e=(new Date).getTime();n<=e-r?i.call():o.value=s(t)}),o},Blob:t.Blob||t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,btoa:(n=t.btoa||function(t){for(var e="",i=0,n=t.length,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,h=void 0,d=void 0;i<n;)c=(o=t.charCodeAt(i++))>>2,u=(3&o)<<4|(s=t.charCodeAt(i++))>>4,h=(15&s)<<2|(a=t.charCodeAt(i++))>>6,d=63&a,isNaN(s)?h=d=64:isNaN(a)&&(d=64),e=e+r.charAt(c)+r.charAt(u)+r.charAt(h)+r.charAt(d);return e})?n.bind(t):H.noop,isObject:function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return H.isObject(t)&&!Object.keys(t).length},isArray:function(t){return t&&Array.isArray(t)},isFunction:function(t){return t&&"function"==typeof t},isElement:function(t){return t&&1===t.nodeType},isString:function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},isSupported:{canvas:function(){var t=U.createElement("canvas");return t&&t.getContext&&t.getContext("2d")},webworkers:function(){return t.Worker},blob:function(){return H.Blob},Uint8Array:function(){return t.Uint8Array},Uint32Array:function(){return t.Uint32Array},videoCodecs:function(){var t=U.createElement("video"),e={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(e.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),e.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),e.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),e.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),e.webm=-1!==t.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(t){}return e}()},noop:function(){},each:function(t,e){var i=void 0,n=void 0;if(H.isArray(t))for(i=-1,n=t.length;++i<n&&!1!==e(i,t[i]););else if(H.isObject(t))for(i in t)if(t.hasOwnProperty(i)&&!1===e(i,t[i]))break},mergeOptions:function(n,r){if(H.isObject(n)&&H.isObject(r)&&Object.keys){var o={};return H.each(n,function(t,e){o[t]=n[t]}),H.each(r,function(t,e){var i=r[t];H.isObject(i)&&n[t]?o[t]=H.mergeOptions(n[t],i):o[t]=i}),o}},setCSSAttr:function(i,t,e){H.isElement(i)&&(H.isString(t)&&H.isString(e)?i.style[t]=e:H.isObject(t)&&H.each(t,function(t,e){i.style[t]=e}))},removeElement:function(t){H.isElement(t)&&t.parentNode&&t.parentNode.removeChild(t)},createWebWorker:function(t){if(!H.isString(t))return{};try{var e=new H.Blob([t],{type:"text/javascript"}),i=H.URL.createObjectURL(e);return{objectUrl:i,worker:new Worker(i)}}catch(t){return""+t}},getExtension:function(t){return t.substr(t.lastIndexOf(".")+1,t.length)},getFontSize:function(t){var e=0<arguments.length&&t!==$?t:{};if(!U.body||!1===e.resizeFont)return e.fontSize;var i=e.text,n=e.gifWidth,r=parseInt(e.fontSize,10),o=parseInt(e.minFontSize,10),s=U.createElement("div"),a=U.createElement("span");for(s.setAttribute("width",n),s.appendChild(a),a.innerHTML=i,a.style.fontSize=r+"px",a.style.textIndent="-9999px",a.style.visibility="hidden",U.body.appendChild(a);a.offsetWidth>n&&o<=r;)a.style.fontSize=--r+"px";return U.body.removeChild(a),r+"px"},webWorkerError:!1},o=Object.freeze({default:H}),l={validate:function(n){n=H.isObject(n)?n:{};var r={};return H.each(l.validators,function(t,e){var i=e.errorCode;if(!n[i]&&!e.condition)return!((r=e).error=!0)}),delete r.condition,r},isValid:function(t){var e=!0!==l.validate(t).error;return e},validators:[{condition:H.isFunction(H.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:H.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:H.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:H.isFunction(H.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:H.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:H.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:H.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},s=Object.freeze({default:l}),c={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:i,completeCallback:i,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},a=Object.freeze({default:c});function u(){return l.isValid()}function g(){var p,g,m,v,f,y=256,b=499,x=491,w=487,k=503,E=3*k,c=y-1,S=4,O=100,C=16,o=1<<C,P=10,L=10,T=o>>L,R=o<<P-L,j=6,F=(y>>3)*(1<<j),A=30,D=1024,M=256,l=1<<18,h=[],W=[],_=[],I=[];function z(t,e,i,n,r){var o,s,a,c,u,h,d;for((a=e-t)<-1&&(a=-1),y<(c=e+t)&&(c=y),o=e+1,s=e-1,h=1;o<c||a<s;){if(u=I[h++],o<c){d=f[o++];try{d[0]-=u*(d[0]-i)/l|0,d[1]-=u*(d[1]-n)/l|0,d[2]-=u*(d[2]-r)/l|0}catch(t){}}if(a<s){d=f[s--];try{d[0]-=u*(d[0]-i)/l|0,d[1]-=u*(d[1]-n)/l|0,d[2]-=u*(d[2]-r)/l|0}catch(t){}}}}function U(t,e,i,n,r){var o=f[e],s=t/D;o[0]-=s*(o[0]-i)|0,o[1]-=s*(o[1]-n)|0,o[2]-=s*(o[2]-r)|0}function $(t,e,i){var n,r,o,s,a,c,u,h,d,l;for(d=h=~(1<<31),u=c=-1,n=0;n<y;n++)(r=(l=f[n])[0]-t)<0&&(r=-r),(o=l[1]-e)<0&&(o=-o),r+=o,(o=l[2]-i)<0&&(o=-o),(r+=o)<h&&(h=r,c=n),(s=r-(W[n]>>C-S))<d&&(d=s,u=n),a=_[n]>>L,_[n]-=a,W[n]+=a<<P;return _[c]+=T,W[c]-=R,u}(function(t,e,i){var n,r;for(g=t,m=e,v=i,f=new Array(y),n=0;n<y;n++)f[n]=new Array(4),(r=f[n])[0]=r[1]=r[2]=(n<<S+8)/y|0,_[n]=o/y|0,W[n]=0}).apply(this,arguments);var t={map:function(t,e,i){var n,r,o,s,a,c,u;for(a=1e3,u=-1,r=(n=h[e])-1;n<y||0<=r;)n<y&&(a<=(o=(c=f[n])[1]-e)?n=y:(n++,o<0&&(o=-o),(s=c[0]-t)<0&&(s=-s),(o+=s)<a&&((s=c[2]-i)<0&&(s=-s),(o+=s)<a&&(a=o,u=c[3])))),0<=r&&(a<=(o=e-(c=f[r])[1])?r=-1:(r--,o<0&&(o=-o),(s=c[0]-t)<0&&(s=-s),(o+=s)<a&&((s=c[2]-i)<0&&(s=-s),(o+=s)<a&&(a=o,u=c[3]))));return u}};return t.process=function(){return function(){var t,e,i,n,r,o,s,a,c,u,h,d,l,f;for(m<E&&(v=1),p=30+(v-1)/3,d=g,u=(h=(f=m)/(3*v))/O|(l=0),a=D,(s=(o=F)>>j)<=1&&(s=0),t=0;t<s;t++)I[t]=a*((s*s-t*t)*M/(s*s));for(c=m<E?3:m%b!=0?3*b:m%x!=0?3*x:m%w!=0?3*w:3*k,t=0;t<h;)if(U(a,e=$(i=(255&d[l+0])<<S,n=(255&d[l+1])<<S,r=(255&d[l+2])<<S),i,n,r),0!==s&&z(s,e,i,n,r),f<=(l+=c)&&(l-=m),0===u&&(u=1),++t%u==0)for(a-=a/p,(s=(o-=o/A)>>j)<=1&&(s=0),e=0;e<s;e++)I[e]=a*((s*s-e*e)*M/(s*s))}(),function(){var t;for(t=0;t<y;t++)f[t][0]>>=S,f[t][1]>>=S,f[t][2]>>=S,f[t][3]=t}(),function(){var t,e,i,n,r,o,s,a;for(t=a=s=0;t<y;t++){for(n=(r=f[i=t])[1],e=t+1;e<y;e++)(o=f[e])[1]<n&&(i=e,n=o[1]);if(o=f[i],t!=i&&(e=o[0],o[0]=r[0],r[0]=e,e=o[1],o[1]=r[1],r[1]=e,e=o[2],o[2]=r[2],r[2]=e,e=o[3],o[3]=r[3],r[3]=e),n!=s){for(h[s]=a+t>>1,e=s+1;e<n;e++)h[e]=t;s=n,a=t}}for(h[s]=a+c>>1,e=s+1;e<256;e++)h[e]=c}(),function(){for(var t=[],e=new Array(y),i=0;i<y;i++)e[f[i][3]]=i;for(var n=0,r=0;r<y;r++){var o=e[r];t[n++]=f[o][0],t[n++]=f[o][1],t[n++]=f[o][2]}return t}()},t}function h(){try{this.onmessage=function(t){var e,i=t.data||{};i.gifshot&&(e=n.run(i),postMessage(e))}}catch(t){}var n={dataToRGB:function(t,e,i){for(var n=e*i*4,r=0,o=[];r<n;)o.push(t[r++]),o.push(t[r++]),o.push(t[r++]),r++;return o},componentizedPaletteToArray:function(t){t=t||[];for(var e=[],i=0;i<t.length;i+=3){var n=t[i],r=t[i+1],o=t[i+2];e.push(n<<16|r<<8|o)}return e},processFrameWithQuantizer:function(t,e,i,n){for(var r=this.dataToRGB(t,e,i),o=new g(r,r.length,n),s=o.process(),a=new Uint32Array(this.componentizedPaletteToArray(s)),c=e*i,u=new Uint8Array(c),h=0,d=0;d<c;d++){var l=r[h++],f=r[h++],p=r[h++];u[d]=o.map(l,f,p)}return{pixels:u,palette:a}},run:function(t){t=t||{};var e=t.height,i=(t.palette,t.sampleInterval),n=t.width,r=t.data;return this.processFrameWithQuantizer(r,n,e,i)}};return n}function p(v,t,e,i){var y=0,n=(i=i===$?{}:i).loop===$?null:i.loop,b=i.palette===$?null:i.palette;if(t<=0||e<=0||65535<t||65535<e)throw"Width/Height invalid.";v[y++]=71,v[y++]=73,v[y++]=70,v[y++]=56,v[y++]=57,v[y++]=97;if(v[y++]=255&t,v[y++]=t>>8&255,v[y++]=255&e,v[y++]=e>>8&255,v[y++]=0|(null!==b?128:0),v[y++]=0,v[y++]=0,null!==n){if(n<0||65535<n)throw"Loop count invalid.";v[y++]=33,v[y++]=255,v[y++]=11,v[y++]=78,v[y++]=69,v[y++]=84,v[y++]=83,v[y++]=67,v[y++]=65,v[y++]=80,v[y++]=69,v[y++]=50,v[y++]=46,v[y++]=48,v[y++]=3,v[y++]=1,v[y++]=255&n,v[y++]=n>>8&255,v[y++]=0}var x=!1;this.addFrame=function(t,e,i,n,r,o){if(!0===x&&(--y,x=!1),o=o===$?{}:o,t<0||e<0||65535<t||65535<e)throw"x/y invalid.";if(i<=0||n<=0||65535<i||65535<n)throw"Width/Height invalid.";if(r.length<i*n)throw"Not enough pixels for the frame size.";var s=!0,a=o.palette;if(a!==$&&null!==a||(s=!1,a=b),a===$||null===a)throw"Must supply either a local or global palette.";for(var c=function(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}(a),u=0;c>>=1;)++u;c=1<<u;var h=o.delay===$?0:o.delay,d=o.disposal===$?0:o.disposal;if(d<0||3<d)throw"Disposal out of range.";var l=!1,f=0;if(o.transparent!==$&&null!==o.transparent&&(l=!0,(f=o.transparent)<0||c<=f))throw"Transparent color index.";if(0===d&&!l&&0===h||(v[y++]=33,v[y++]=249,v[y++]=4,v[y++]=d<<2|(!0===l?1:0),v[y++]=255&h,v[y++]=h>>8&255,v[y++]=f,v[y++]=0),v[y++]=44,v[y++]=255&t,v[y++]=t>>8&255,v[y++]=255&e,v[y++]=e>>8&255,v[y++]=255&i,v[y++]=i>>8&255,v[y++]=255&n,v[y++]=n>>8&255,v[y++]=!0===s?128|u-1:0,!0===s)for(var p=0,g=a.length;p<g;++p){var m=a[p];v[y++]=m>>16&255,v[y++]=m>>8&255,v[y++]=255&m}y=function(e,i,t,n){e[i++]=t;var r=i++,o=1<<t,s=o-1,a=1+o,c=1+a,u=t+1,h=0,d=0;function l(t){for(;t<=h;)e[i++]=255&d,d>>=8,h-=8,i===r+256&&(e[r]=255,r=i++)}function f(t){d|=t<<h,h+=u,l(8)}var p=n[0]&s,g={};f(o);for(var m=1,v=n.length;m<v;++m){var y=n[m]&s,b=p<<8|y,x=g[b];if(x===$){for(d|=p<<h,h+=u;8<=h;)e[i++]=255&d,d>>=8,h-=8,i===r+256&&(e[r]=255,r=i++);4096===c?(f(o),c=1+a,u=t+1,g={}):(1<<u<=c&&++u,g[b]=c++),p=y}else p=x}f(p),f(a),l(1),r+1===i?e[r]=0:(e[r]=i-r-1,e[i++]=0);return i}(v,y,u<2?2:u,r)},this.end=function(){return!1===x&&(v[y++]=59,x=!0),y}}function d(){}var B=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=d,this.onRenderProgressCallback=d,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};function f(t){var e=0<arguments.length&&t!==$?t:{},r=e.callback,i=e.images,o=e.options,s=e.imagesLength,n=l.validate({getUserMedia:!0,"window.URL":!0}),a=[],c=0,u=void 0,h=void 0;if(n.error)return r(n);function d(){var e;H.each(a,function(t,e){e&&(e.text?h.addFrame(e.img,o,e.text):h.addFrame(e,o))}),e=r,h.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t})})}h=new B(o),H.each(i,function(e,i){var n,t=i;i.src&&(t=t.src),H.isElement(t)?(o.crossOrigin&&(t.crossOrigin=o.crossOrigin),a[e]=t,(c+=1)===s&&d()):H.isString(t)&&(u=new Image,o.crossOrigin&&(u.crossOrigin=o.crossOrigin),n=u,i.text&&(n.text=i.text),n.onerror=function(t){if(0===--s)return r({error:"None of the requested images was capable of being retrieved"})},n.onload=function(t){i.text?a[e]={img:n,text:n.text}:a[e]=n,(c+=1)===s&&d(),H.removeElement(n)},n.src=t,H.setCSSAttr(u,{position:"fixed",opacity:"0"}),U.body.appendChild(u))})}B.prototype={workerMethods:h(),initializeWebWorkers:function(t){var e,i=g.toString()+"("+h.toString()+"());",n=void 0,r=void 0,o=void 0,s=-1,a="";for(e=t.numWorkers;++s<e;)n=H.createWebWorker(i),H.isObject(n)?(r=n.objectUrl,o=n.worker,this.workers.push({worker:o,objectUrl:r}),this.availableWorkers.push(o)):(a=n,H.webWorkerError=!!n);this.workerError=a,this.canvas=U.createElement("canvas"),this.canvas.width=t.gifWidth,this.canvas.height=t.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(t){this.availableWorkers.push(t)},byteMap:function(){for(var t=[],e=0;e<256;e++)t[e]=String.fromCharCode(e);return t}(),bufferToString:function(t){for(var e=t.length,i="",n=-1;++n<e;)i+=this.byteMap[t[n]];return i},onFrameFinished:function(t){var e=this,i=e.frames,n=!!(e.options.images||[]).length,r=i.every(function(t){return!t.beingProcessed&&t.done});e.numRenderedFrames++,n&&t(e.numRenderedFrames/i.length),e.onRenderProgressCallback(.75*e.numRenderedFrames/i.length),r?e.generatingGIF||e.generateGIF(i,e.onRenderCompleteCallback):H.requestTimeout(function(){e.processNextFrame()},1)},processFrame:function(t){function e(t){var e=(0<arguments.length&&t!==$?t:{}).data;delete a.data,a.pixels=Array.prototype.slice.call(e.pixels),a.palette=Array.prototype.slice.call(e.palette),a.done=!0,a.beingProcessed=!1,i.freeWorker(c),i.onFrameFinished(r)}var i=this,n=(this.options,this.options),r=n.progressCallback,o=n.sampleInterval,s=this.frames,a=void 0,c=void 0;(a=s[t]).beingProcessed||a.done?this.onFrameFinished():(a.sampleInterval=o,a.beingProcessed=!0,a.gifshot=!0,(c=this.getWorker())?(c.onmessage=e,c.postMessage(a)):e({data:i.workerMethods.run(a)}))},startRendering:function(t){this.onRenderCompleteCallback=t;for(var e=0;e<this.options.numWorkers&&e<this.frames.length;e++)this.processFrame(e)},processNextFrame:function(){for(var t=-1,e=0;e<this.frames.length;e++){var i=this.frames[e];if(!i.done&&!i.beingProcessed){t=e;break}}0<=t&&this.processFrame(t)},generateGIF:function(r,t){var e=[],i={loop:this.repeat},n=this.options,o=n.interval,s=n.frameDuration,a=!!n.images.length,c=n.gifHeight,u=n.gifWidth,h=new p(e,u,c,i),d=this.onRenderProgressCallback,l=a?100*o:0,f=void 0;this.generatingGIF=!0,H.each(r,function(t,e){var i=e.palette;d(.75+.25*e.position*1/r.length);for(var n=0;n<s;n++)h.addFrame(0,0,u,c,e.pixels,{palette:i,delay:l})}),h.end(),d(1),this.frames=[],this.generatingGIF=!1,H.isFunction(t)&&(f=this.bufferToString(e),t("data:image/gif;base64,"+H.btoa(f)))},setRepeat:function(t){this.repeat=t},addFrame:function(t,e){e=H.isObject(e)?e:{};var i=this.ctx,n=this.options,r=n.gifWidth,o=n.gifHeight,s=H.getFontSize(e),a=e.filter,c=e.fontColor,u=e.fontFamily,h=e.fontWeight,d=(e.gifHeight,e.gifWidth,e.text),l=e.textAlign,f=e.textBaseline,p=e.textXCoordinate?e.textXCoordinate:"left"===l?1:"right"===l?r:r/2,g=e.textYCoordinate?e.textYCoordinate:"top"===f?1:"center"===f?o/2:o,m=h+" "+s+" "+u,v=void 0;try{i.filter=a,i.drawImage(t,0,0,r,o),d&&(i.font=m,i.fillStyle=c,i.textAlign=l,i.textBaseline=f,i.fillText(d,p,g)),v=i.getImageData(0,0,r,o),this.addFrameImageData(v)}catch(t){return""+t}},addFrameImageData:function(t){var e=0<arguments.length&&t!==$?t:{},i=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:i.length})},onRenderProgress:function(t){this.onRenderProgressCallback=t},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var i=this;i.startRendering(function(t){i.destroyWorkers(),H.requestTimeout(function(){e(t)},0)})},destroyWorkers:function(){if(!this.workerError){var t=this.workers;H.each(t,function(t,e){var i=e.worker,n=e.objectUrl;i.terminate(),H.URL.revokeObjectURL(n)})}}};function V(){}var m={getGIF:function(t,e){var i=0<arguments.length&&t!==$?t:{},n=e;n=H.isFunction(n)?n:V;var r=U.createElement("canvas"),o=void 0,s=!!i.images.length,a=i.cameraStream,c=i.crop,u=i.filter,h=i.fontColor,d=i.fontFamily,l=i.fontWeight,f=i.keepCameraOn,p=(i.numWorkers,i.progressCallback),g=i.saveRenderingContexts,m=i.savedRenderingContexts,v=i.text,y=i.textAlign,b=i.textBaseline,x=i.videoElement,w=i.videoHeight,k=i.videoWidth,E=i.webcamVideoElement,S=Number(i.gifWidth),O=Number(i.gifHeight),C=Number(i.interval),P=(Number(i.sampleInterval),s?0:1e3*C),L=[],T=m.length?m.length:i.numFrames,R=T,j=new B(i),F=H.getFontSize(i),A=i.textXCoordinate?i.textXCoordinate:"left"===y?1:"right"===y?S:S/2,D=i.textYCoordinate?i.textYCoordinate:"top"===b?1:"center"===b?O/2:O,M=l+" "+F+" "+d,W=c?Math.floor(c.scaledWidth/2):0,_=c?k-c.scaledWidth:0,I=c?Math.floor(c.scaledHeight/2):0,z=c?w-c.scaledHeight:0;T=T!==$?T:10,C=C!==$?C:.1,r.width=S,r.height=O,o=r.getContext("2d"),function t(){m.length||0!==x.currentTime?function e(){var i=R-1;function t(){var t;g&&L.push(o.getImageData(0,0,S,O)),v&&(o.font=M,o.fillStyle=h,o.textAlign=y,o.textBaseline=b,o.fillText(v,A,D)),t=o.getImageData(0,0,S,O),j.addFrameImageData(t),p((T-(R=i))/T),0<i&&H.requestTimeout(e,P),R||j.getBase64GIF(function(t){n({error:!1,errorCode:"",errorMsg:"",image:t,cameraStream:a,videoElement:x,webcamVideoElement:E,savedRenderingContexts:L,keepCameraOn:f})})}m.length?(o.putImageData(m[T-R],0,0),t()):function e(){try{k<_&&(_=k),w<z&&(z=w),W<0&&(W=0),I<0&&(I=0),o.filter=u,o.drawImage(x,W,I,_,z,0,0,S,O),t()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;H.requestTimeout(e,100)}}()}():H.requestTimeout(t,100)}()},getCropDimensions:function(t){var e=0<arguments.length&&t!==$?t:{},i=e.videoWidth,n=e.videoHeight,r=e.gifWidth,o=e.gifHeight,s={width:0,height:0,scaledWidth:0,scaledHeight:0};return n<i?(s.width=Math.round(i*(o/n))-r,s.scaledWidth=Math.round(s.width*(n/o))):(s.height=Math.round(n*(r/i))-o,s.scaledHeight=Math.round(s.height*(i/r))),s}},v={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function t(e){t.attempts=t.attempts||0;var i=e.cameraStream,n=e.completedCallback,r=e.videoElement;r&&(0<r.videoWidth&&0<r.videoHeight?(r.removeEventListener("loadeddata",v.findVideoSize),n({videoElement:r,cameraStream:i,videoWidth:r.videoWidth,videoHeight:r.videoHeight})):t.attempts<10?(t.attempts+=1,H.requestTimeout(function(){v.findVideoSize(e)},400)):n({videoElement:r,cameraStream:i,videoWidth:v.defaultVideoDimensions.width,videoHeight:v.defaultVideoDimensions.height}))},onStreamingTimeout:function(t){H.isFunction(t)&&t({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(t){var e=H.isArray(t.existingVideo)?t.existingVideo[0]:t.existingVideo,i=t.cameraStream,n=t.completedCallback,r=t.streamedCallback,o=t.videoElement;if(H.isFunction(r)&&r(),e){if(H.isString(e))o.src=e,o.innerHTML='<source src="'+e+'" type="video/'+H.getExtension(e)+'" />';else if(e instanceof Blob){try{o.src=H.URL.createObjectURL(e)}catch(t){}o.innerHTML='<source src="'+e+'" type="'+e.type+'" />'}}else if(o.mozSrcObject)o.mozSrcObject=i;else if(H.URL)try{o.srcObject=i,o.src=H.URL.createObjectURL(i)}catch(t){o.srcObject=i}o.play(),H.requestTimeout(function t(){t.count=t.count||0,!0===v.loadedData?(v.findVideoSize({videoElement:o,cameraStream:i,completedCallback:n}),v.loadedData=!1):10<(t.count+=1)?v.findVideoSize({videoElement:o,cameraStream:i,completedCallback:n}):t()},0)},startStreaming:function(t){var e=H.isFunction(t.error)?t.error:H.noop,i=H.isFunction(t.streamed)?t.streamed:H.noop,n=H.isFunction(t.completed)?t.completed:H.noop,r=t.crossOrigin,o=t.existingVideo,s=t.lastCameraStream,a=t.options,c=t.webcamVideoElement,u=H.isElement(o)?o:c||U.createElement("video");r&&(u.crossOrigin=a.crossOrigin),u.autoplay=!0,u.loop=!0,u.muted=!0,u.addEventListener("loadeddata",function(t){v.loadedData=!0,a.offset&&(u.currentTime=a.offset)}),o?v.stream({videoElement:u,existingVideo:o,completedCallback:n}):s?v.stream({videoElement:u,cameraStream:s,streamedCallback:i,completedCallback:n}):H.getUserMedia({video:!0},function(t){v.stream({videoElement:u,cameraStream:t,streamedCallback:i,completedCallback:n})},e)},startVideoStreaming:function(s,t){var e=1<arguments.length&&t!==$?t:{},i=e.timeout!==$?e.timeout:0,n=e.callback,r=e.webcamVideoElement,o=void 0;0<i&&(o=H.requestTimeout(function(){v.onStreamingTimeout(n)},1e4)),v.startStreaming({error:function(){n({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(o)},completed:function(t){var e=0<arguments.length&&t!==$?t:{},i=e.cameraStream,n=e.videoElement,r=e.videoHeight,o=e.videoWidth;s({cameraStream:i,videoElement:n,videoHeight:r,videoWidth:o})},lastCameraStream:e.lastCameraStream,webcamVideoElement:r,crossOrigin:e.crossOrigin,options:e})},stopVideoStreaming:function(t){t=H.isObject(t)?t:{};var e=t.keepCameraOn,i=t.videoElement,n=t.webcamVideoElement,r=t.cameraStream||{},o=r.getTracks&&r.getTracks()||[],s=o[0];!e&&o.length&&H.isFunction(s.stop)&&s.stop(),H.isElement(i)&&!n&&(i.pause(),H.isFunction(H.URL.revokeObjectURL)&&!H.webWorkerError&&i.src&&H.URL.revokeObjectURL(i.src),H.removeElement(i))}};function y(t){t=H.isObject(t)?t:{},v.stopVideoStreaming(t)}function b(t,e){var i=t.options||{},n=i.images,r=i.video,o=Number(i.gifWidth),s=Number(i.gifHeight),a=(Number(i.numFrames),t.cameraStream),c=t.videoElement,u=t.videoWidth,h=t.videoHeight,d=m.getCropDimensions({videoWidth:u,videoHeight:h,gifHeight:s,gifWidth:o}),l=e;i.crop=d,i.videoElement=c,i.videoWidth=u,i.videoHeight=h,i.cameraStream=a,H.isElement(c)&&(c.width=o+d.width,c.height=s+d.height,i.webcamVideoElement||(H.setCSSAttr(c,{position:"fixed",opacity:"0"}),U.body.appendChild(c)),c.play(),m.getGIF(i,function(t){n&&n.length||r&&r.length||y(t),l(t)}))}function x(t,e){if(e=H.isFunction(t)?t:e,t=H.isObject(t)?t:{},H.isFunction(e)){var i=H.mergeOptions(c,t)||{},n=t.cameraStream,r=i.images,o=r?r.length:0,s=i.video,a=i.webcamVideoElement;i=H.mergeOptions(i,{gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),o?f({images:r,imagesLength:o,callback:e,options:i}):s?function(t){var e=0<arguments.length&&t!==$?t:{},i=e.callback,n=e.existingVideo,r=e.options,o=l.validate({getUserMedia:!0,"window.URL":!0}),s=void 0,a=void 0;if(o.error)return i(o);if(H.isElement(n)&&n.src){if(a=n.src,s=H.getExtension(a),!H.isSupported.videoCodecs[s])return i(l.messages.videoCodecs)}else H.isArray(n)&&H.each(n,function(t,e){if(s=e instanceof Blob?e.type.substr(e.type.lastIndexOf("/")+1,e.length):e.substr(e.lastIndexOf(".")+1,e.length),H.isSupported.videoCodecs[s])return n=e,!1});v.startStreaming({completed:function(t){t.options=r||{},b(t,i)},existingVideo:n,crossOrigin:r.crossOrigin,options:r})}({existingVideo:s,callback:e,options:i}):function(t){var e=0<arguments.length&&t!==$?t:{},i=e.callback,n=e.lastCameraStream,r=e.options,o=e.webcamVideoElement;if(!u())return i(l.validate());r.savedRenderingContexts.length?m.getGIF(r,function(t){i(t)}):v.startVideoStreaming(function(){var t=0<arguments.length&&arguments[0]!==$?arguments[0]:{};t.options=r||{},b(t,i)},{lastCameraStream:n,callback:i,webcamVideoElement:o,crossOrigin:r.crossOrigin})}({lastCameraStream:n,callback:e,webcamVideoElement:a,options:i})}}var w={utils:o,error:s,defaultOptions:a,createGIF:x,takeSnapShot:function(t,e){if(e=H.isFunction(t)?t:e,t=H.isObject(t)?t:{},H.isFunction(e)){var i=H.mergeOptions(c,t);x(H.mergeOptions(i,{interval:.1,numFrames:1,gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),e)}},stopVideoStreaming:y,isSupported:function(){return l.isValid()},isWebCamGIFSupported:u,isExistingVideoGIFSupported:function(t){var i=!1;if(H.isArray(t)&&t.length){if(H.each(t,function(t,e){H.isSupported.videoCodecs[e]&&(i=!0)}),!i)return!1}else if(H.isString(t)&&t.length&&!H.isSupported.videoCodecs[t])return!1;return l.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return l.isValid({getUserMedia:!0})},VERSION:"0.4.5"};"function"==typeof $&&$.amd?$([],function(){return w}):k.exports=w}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})});function J(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}var Z=function(){function e(t){z(this,e),this.term=t,this.blobs=[],this.images=[],this.recording=!1,this.timer=null,this.frameRate=10}return a(e,[{key:"start",value:function(){O(!this.recording,"The recorder is recording...");var i=this.term.template.$canvas;this.recording=!0,this.term.emit("start"),function t(){var e=this;i.toBlob(function(t){e.blobs.push(t),e.images.push(URL.createObjectURL(t))},"image/png",.5),this.term.emit("recording",{size:this.size,duration:this.duration}),this.timer=setTimeout(function(){return t.call(e)},1e3/this.frameRate)}.call(this)}},{key:"end",value:function(){var e=this;this.recording=!1,clearTimeout(this.timer),this.term.emit("creating");var t=this.term,i=t.options.gifshotOpt,n=t.template.$container;Y.createGIF(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?J(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({gifWidth:n.clientWidth,gifHeight:n.clientHeight,numWorkers:4},i,{images:this.images}),function(t){t.err||(C(t.image,"".concat(Date.now(),".gif")),e.images.forEach(function(t){return URL.revokeObjectURL(t)}),e.blobs=[],e.images=[],e.term.emit("end"))})}},{key:"size",get:function(){return this.blobs.reduce(function(t,e){return t+e.size},0)}},{key:"duration",get:function(){return Math.floor(this.blobs.length/this.frameRate)}}]),e}(),tt=function(){function t(n){var r=this;z(this,t),this.term=n,this.color="#66d9ef",this.radioTip="(select: Up or Down, confirm: Enter)",this.checkboxTip="(move: Up or Down, select: Space, confirm: Enter)",this.radioInit=!1,this.radioList=[],this.radioKey=null,this.radioResolve=function(){return null},this.checkboxInit=!1,this.checkboxList=[],this.checkboxIndex=0,this.checkboxKey=[],this.checkboxResolve=function(){return null},this.radio=function(t){return r.render(t,$)},this.checkbox=function(t){return r.render(t,H)},n.on("keydown",function(t){var e=n.drawer.lastCacheLog,i=t.keyCode;e.style===$&&r.radioList===e.list&&r.radioEvent(i),e.style===H&&r.checkboxList===e.list&&r.checkboxEvent(i)})}return a(t,[{key:"render",value:function(e,i){var n=this;return new Promise(function(t){l(e,[{key:"string|number",text:"string|number"}]),O(e.length,"Array cannot be empty"),O(e.map(function(t){return t.key}).every(function(t,e,i){return i.indexOf(t)===i.lastIndexOf(t)}),"The key value in the array element must be unique"),i===$&&(n.radioList=e,n.radioKey=e[0].key,n.radioResolve=t,n.radioRender(e,n.radioKey),n.radioInit=!0),i===H&&(n.checkboxList=e,n.checkboxIndex=0,n.checkboxKey=[],n.checkboxResolve=t,n.checkboxRender(),n.checkboxInit=!0)})}},{key:"radioRender",value:function(){var e=this,t=this.radioList.map(function(t){return e.radioKey===t.key?"<d color='".concat(e.color,"'>=> ").concat(t.text,"</d>"):"   ".concat(t.text)}).join("\n");this.term.drawer.emit({text:"".concat(t,"\n").concat(this.radioTip),list:this.radioList,type:I,style:$,replace:this.radioInit})}},{key:"radioEvent",value:function(t){var e=this,i=this.radioList.findIndex(function(t){return t.key===e.radioKey});38===t&&(this.radioKey=i<=0?this.radioList[this.radioList.length-1].key:this.radioList[i-1].key,this.radioRender(this.radioList,this.radioKey)),40===t&&(i===this.radioList.length-1?this.radioKey=this.radioList[0].key:this.radioKey=this.radioList[i+1].key,this.radioRender(this.radioList,this.radioKey)),13===t&&(this.radioResolve(this.radioKey),this.radioInit=!1,this.radioList=[],this.radioKey=null,this.radioResolve=function(){return null})}},{key:"checkboxRender",value:function(){var i=this,t=this.checkboxList.map(function(t,e){return e===i.checkboxIndex?"<d color='".concat(i.color,"'>").concat(i.checkboxKey.includes(t.key)?"":""," ").concat(t.text,"</d>"):"".concat(i.checkboxKey.includes(t.key)?"":""," ").concat(t.text)}).join("\n");this.term.drawer.emit({text:"".concat(t,"\n").concat(this.checkboxTip),list:this.checkboxList,type:I,style:H,replace:this.checkboxInit})}},{key:"checkboxEvent",value:function(t){if(38===t&&(this.checkboxIndex<=0?this.checkboxIndex=this.checkboxList.length-1:--this.checkboxIndex,this.radioKey=this.checkboxList[this.checkboxIndex].key,this.checkboxRender()),40===t&&(this.checkboxIndex===this.checkboxList.length-1?this.checkboxIndex=0:this.checkboxIndex+=1,this.checkboxRender()),32===t){var e=this.checkboxList[this.checkboxIndex].key,i=this.checkboxKey.indexOf(e);-1<i?this.checkboxKey.splice(i,1):this.checkboxKey.push(e),this.checkboxRender()}13===t&&(this.checkboxResolve(this.checkboxKey),this.checkboxInit=!1,this.checkboxList=[],this.checkboxIndex=0,this.checkboxKey=[],this.checkboxResolve=function(){return null})}}]),t}();function et(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function it(n){return function(){var t,e=u(n);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)}}var nt=0,rt=[];return function(){e(n,d);var i=it(n);function n(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return z(this,n),(t=i.call(this)).options=l(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?et(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},n.default,{},e),n.scheme),t.isFocus=!1,t.template=new R(r(t)),t.events=new b(r(t)),t.drawer=new G(r(t)),t.commander=new Q(r(t)),t.inquirer=new tt(r(t)),t.video=new X(r(t)),t.gif=new Z(r(t)),t.ask=t.commander.ask,t.type=t.commander.type,t.input=t.commander.input,t.output=t.commander.output,t.clear=t.drawer.clear,t.radio=t.inquirer.radio,t.checkbox=t.inquirer.checkbox,nt+=1,t.id=nt,rt.push(r(t)),t}return a(n,null,[{key:"instances",get:function(){return rt}},{key:"version",get:function(){return"1.0.9"}},{key:"utils",get:function(){return P}},{key:"default",get:function(){return{container:"#term",width:600,height:500,actions:[],parseOpt:{},recorder:!0,recordType:"video",gifshotOpt:{},draggable:!0,dragOpt:{},borderRadius:5,fontSize:13,fontFamily:"Arial",fontColor:"#b0b2b6",title:"Term Web",prefix:'root@linux: ~ <d color="#00f501">$</d> ',welcome:"Last login: ".concat(new Date),loading:function(){return'<d color="yellow">Loading...</d>'},boxShadow:"rgba(0, 0, 0, 0.55) 0px 20px 68px",backgroundColor:"rgb(42, 39, 52)",pixelRatio:window.devicePixelRatio,notFound:function(t){return"-bash: <d color='red'>".concat(t,"</d>: command not found")}}}},{key:"scheme",get:function(){return{container:"string|htmldivelement",width:"number",height:"number",actions:[{input:"string|regexp",output:"string|function"}],parseOpt:"object",recorder:"boolean",recordType:"string",gifshotOpt:"object",draggable:"boolean",dragOpt:"object",borderRadius:"number",fontSize:"number",fontFamily:"string",fontColor:"string",title:"string",prefix:"string",welcome:"string",loading:"function",boxShadow:"string",backgroundColor:"string",pixelRatio:"number",notFound:"function"}}}]),a(n,[{key:"destroy",value:function(){rt.splice(rt.indexOf(this),1),this.events.destroy(),this.template.destroy(),this.emit("destroy")}}]),n}()});
